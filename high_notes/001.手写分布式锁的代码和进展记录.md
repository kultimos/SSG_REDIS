# P130:引入nginx&JVM级别的锁无法在分布式环境有效保证线程安全案例
  [1.0版],本次提交通过jmeter压测证明了在分布式的环境下,JVM级别的锁是无法保证分布式环境的线程安全的,会出现超卖问题;
  
# P131:分布式锁2.0改进到分布式锁2.1,高并发场景禁用递归(使用自旋)+使用while替代if,从而避免某些场景可能出现的虚假唤醒
  [2.0版],该版本引入了setnx命令,并且可以满足在高并发场景下500条记录的安全消费,但是存在问题
  - 1.高并发场景下禁止使用递归,因为非常容易造成StackOverFlowError,所以递归一定要去除;
  - 2.使用if存在虚假唤醒的可能(虽然在当前场景下不会出现这种情况),但我们还是建议使用while替换if
  [2.1版],则是对上述两个问题进行了优化,通过while,既替换了if,又通过自旋的方式取代了递归;