# Zset类型底层数据结构
  redis6 skiplist + ziplist
  redis7 skiplist + listpack
  
  Zset的重要配置参数,执行命令 config get zset*
  - zset-max-ziplist-entries 128 最大个数128
  - zset-max-ziplist-value 64 最大占用长度64
  Zset类型的键的字段个数小于'zset-max-ziplist-entries'并且每个字段名和字段值的长度均小于'zset-max-ziplist-value'时,该键的编码格式为压缩列表,
前述任何一个条件不满足则该键的编码方式为skiplist;上述配置参数与hash的配置参数一致,可以参考hash的案例进行理解;
  redis7与redis6一致,只不过因为redis7中用listpack取代了zipList,所以参数的也相应的发生了变化,都变成了listpack,至于参数默认值和判断逻辑,均与redis6一致;

  # skipList跳表面试题
  - 为什么会出现跳表
    这就要先从我们的单链表说起,对于一个单链表来讲,即便链表中存储的数据是有序的,如果我们要想在其中查找某个数据,也只能从头到尾遍历链表,这样查找效率就很低,时间复杂度O(N)
    而跳表相对于传统单链表来说,可以大幅的减少我们的查询次数,我们这里用64个节点的有序单链表为例,我们现在要找的是索引为62的那个元素
    跳表结构如下: 
    [#]                                                             [#]                                                              
     @                               @                              [@]                             [@]                                
     &               &               &               &               &               &              [&]             [&]               
     8       8       8       8       8       8       8       8       8       8       8       8       8       8      [8]     [8]      
     .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  [.] .   
     . . . . . . . . . . | . . . . . . . . . . | . . . . . . . . . . | . . . . . . . . . . | . . . . . . . . . . | . . . . .[.][.] . .  
  可以看到我们通过建立一个多层索引结构,对有序链表进行构建索引,当我们需要查找索引为62的元素时,需要继续比对的次数从62次降低到了11次,并且数量级越大,减少查找的次数也越多,跳表的效率为logN

  - 什么是跳表
    跳表是一种以空间换取时间的结构,由于链表本身无法进行二分查找,因此借鉴数据数据库索引的思想,提取出链表中关键节点(索引),先在关键节点上查找,再进入下层链表查找,提取多层关键节点,形成了跳跃表
    简单说跳表就是可以实现二分查找的有序链表,但由于跳表需要维护索引,所以相当数据的跳表所占据的空间要比链表更大一些
    总结说跳表就是链表+多级索引
  - 跳表的时间复杂度和空间复杂度
    - 时间复杂度: O(logN)
    - 空间复杂度: O(N)
  - 跳表的优缺点
    - 优点: 跳表是一个典型的空间换时间的解决方案,而且只有在数据量较大的情况下才能体现出优势,而且应该是读多写少的情况下才能使用,所以它的适用范围应该还是比较有限的
    - 缺点: 维护成本相对较高,不但需要格外存储索引,而且还要在链表数据发生变化时,同步更新索引;
  