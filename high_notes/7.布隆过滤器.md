# 布隆过滤器是什么
  布隆过滤器由一个初值都为零的bit数组和多个哈希函数构成,用来快速判断集合中是否存在某个元素 
  它不保存数据信息,只是在内存中做一个是否存在的标记flag
  
# 布隆过滤器简略原理(evernote版)
  当要存入一个数据时,先通过多个hash算法,算出多个hash值,然后再布隆过滤器自己的数组中将多个hash值对应的槽位的值由0改为1,等下一次,有一个数据尝试判断是否存在时,需要满足,所有hash算法得到的所有槽位
对应的所有值都是1,才会认定这个值存在,布隆过滤器才会放行;需要注意,一个槽位可能代表多个数据,因为不同数据hash值也是可能一样的;所以,布隆过滤器删除数据很麻烦,因为一个槽位的由1到0可能代表的是多个数据
不存在,而非特定的一个数据;这就体现了我们在使用布隆过滤器判断数据时的一个特点:[布隆过滤器判断一个元素存在时,这个元素不一定存在;但是布隆过滤器判断一个元素不存在时,则一定不存在]

# 使用布隆过滤器时不要删除元素
  因为多个不同的key经过多次hash,值会分散在bitmap的多个点位上,一旦有两个key的某一次hash落在同一个点位,你删除其中一个key的所有点位时,那么两个key的相同点位一样被删除,带来的影响就是
另一个key会被布隆过滤器认为不存在,但它是存在的,只是被其他元素的删除操作影响了,而这种情况的后果就是增加了误判率;
  
# 布隆过滤器的适用场景
  - 解决缓存穿透问题,和redis结合bitmap使用
  - 黑名单校验,识别垃圾邮件
    把所有黑名单都放在布隆过滤器中,在收到邮件时,判断邮件地址是否在布隆过滤器中即可
  - 安全连接地址,全球上10亿的网址判断

# 布隆过滤器的优缺点
  - 优点：高效的插入和查询,内存占用bit空间少;
  - 缺点：不能删除元素,删除元素可能导致其他元素的判断受影响,增加了误判率;因为hash冲突的存在,本身布隆过滤器就存在误判率;

# 关于布隆过滤器本身存在误判率;
  我们可以手动设置误判率,误判率的调整本质上就是进行hash次数的增多或减少,一个key进行1w次hash,其实这个误判率就会非常低了,但同样,这样带来的后果首先就是hash时间长,第二就是需要的bitmap的内存
空间要求也更大,基于此,我们在日常开发使用布隆过滤器时应根据我们的需求选择合适的误判率;
  [ BloomFilter<Integer> integerBloomFilter = BloomFilter.create(Funnels.integerFunnel(), 10000, 0.3); ]
  这是创建布隆过滤器的代码,可以看到第二个参数就是bitmap数组的大小,而第三个参数就是误判率,底层会根据该误判率选择进行的hash次数;